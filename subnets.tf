# ======================================================================================================================
# SUBNETS
# ======================================================================================================================
# ======================================================================================================================
# VARIABLES
# ======================================================================================================================
variable "subnets" {
  description = "This is a map of subnets both public and private"
  default     = {}
}
# ======================================================================================================================
# RESOURCE CREATION
# ======================================================================================================================
resource "aws_subnet" "env_subnet" {
  for_each          = var.subnets
  vpc_id            = aws_vpc.env_vpc[0].id
  cidr_block        = each.value["cidr"]
  availability_zone = each.value["az"]

  tags = merge(
    local.common_tags,
    {
      "Name" = lookup(each.value, "name", "")
    }
  )
}




